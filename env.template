# SwimCoach AI - Environment Configuration
# Copy this file to .env and fill in your values

# ==============================================================================
# API Configuration
# ==============================================================================

# Comma-separated list of API keys for authentication
# Generate secure random keys for production
API_KEYS=dev-key-1,dev-key-2,dev-key-3

# Rate Limiting Bypass (optional)
# Comma-separated API keys that bypass rate limiting for trusted users/admins
RATE_LIMIT_BYPASS_KEYS=

# Comma-separated emails that bypass rate limiting
RATE_LIMIT_BYPASS_EMAILS=

# Comma-separated Clerk user IDs that bypass rate limiting (e.g., user_2abc123...)
# Find your user ID in Clerk dashboard: Users -> Click user -> User ID
RATE_LIMIT_BYPASS_USER_IDS=

# ==============================================================================
# Anthropic (Claude) Configuration
# ==============================================================================

# Your Anthropic API key (required)
# Get one at: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-api03-...

# Claude model to use (optional, defaults shown)
ANTHROPIC_MODEL=claude-sonnet-4-20250514
ANTHROPIC_MAX_TOKENS=4096
ANTHROPIC_TEMPERATURE=0.7

# ==============================================================================
# Snowflake Database Configuration
# ==============================================================================

# Set to true to use in-memory mock database (no Snowflake credentials needed)
# Perfect for local development and testing
SNOWFLAKE_MOCK_MODE=true

# Snowflake credentials (only required if SNOWFLAKE_MOCK_MODE=false)
SNOWFLAKE_ACCOUNT=your-account.us-east-1
SNOWFLAKE_USER=swimcoach_api
SNOWFLAKE_PASSWORD=your-secure-password
# SNOWFLAKE_PRIVATE_KEY_BASE64=  # Base64-encoded private key (preferred for deployment)
# SNOWFLAKE_PRIVATE_KEY_PATH=  # Path to private key file (local development only)
SNOWFLAKE_DATABASE=SWIMCOACH
SNOWFLAKE_SCHEMA=COACHING
SNOWFLAKE_WAREHOUSE=COMPUTE_WH
# SNOWFLAKE_ROLE=SWIMCOACH_ROLE  # Optional

# ==============================================================================
# Cloudflare R2 Storage Configuration
# ==============================================================================

# Set to true to use in-memory mock storage (no R2 credentials needed)
# Perfect for local development and testing
R2_MOCK_MODE=true

# R2 credentials (only required if R2_MOCK_MODE=false)
# Create these in Cloudflare dashboard: https://dash.cloudflare.com/
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=swimcoach-videos

# Optional: Override R2 endpoint (auto-constructed from account ID if not set)
# R2_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com

# ==============================================================================
# Application Configuration
# ==============================================================================

# Maximum number of frames allowed per upload (client-side extraction)
MAX_FRAMES_PER_UPLOAD=60

# Maximum total upload size in megabytes (for frame uploads)
MAX_UPLOAD_SIZE_MB=100

# Maximum video file size in megabytes (for server-side processing)
MAX_VIDEO_SIZE_MB=100

# Use mock video processor (no FFmpeg required for local dev)
VIDEO_PROCESSOR_MOCK_MODE=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ==============================================================================
# CORS Configuration
# ==============================================================================

# Comma-separated list of allowed origins
# Use * for development only! Set specific origins in production.
# Default includes localhost (dev) and Cloudflare Pages (production)
CORS_ORIGINS=http://localhost:3000,https://ai-swim-coach.pages.dev

# For custom domains:
# CORS_ORIGINS=http://localhost:3000,https://swimcoach.app,https://www.swimcoach.app

# For Vercel deployment:
# CORS_ORIGINS=http://localhost:3000,https://your-app.vercel.app,https://your-custom-domain.com

# ==============================================================================
# Quick Start for Local Development
# ==============================================================================
#
# 1. Copy this file to .env:
#    cp env.template .env
#
# 2. Set your Anthropic API key (required):
#    ANTHROPIC_API_KEY=sk-ant-api03-...
#
# 3. Leave mock modes enabled for local testing:
#    SNOWFLAKE_MOCK_MODE=true
#    R2_MOCK_MODE=true
#
# 4. Install dependencies:
#    pip install -e .
#
# 5. Run the application:
#    uvicorn src.main:app --reload
#
# 6. Visit http://localhost:8000/docs for API documentation
#
# ==============================================================================
# Production Deployment
# ==============================================================================
#
# For production:
#
# 1. Set SNOWFLAKE_MOCK_MODE=false and provide real Snowflake credentials
# 2. Set R2_MOCK_MODE=false and provide real R2 credentials  
# 3. Generate secure random API keys (not dev-key-1, dev-key-2, etc.)
# 4. Set specific CORS_ORIGINS (not *)
# 5. Use a secrets management service for sensitive values
# 6. Consider using environment-specific .env files (.env.production, etc.)
#
# ==============================================================================

